## 计算机网络
#### 1. IOS七层协议 
>1. 物理层：IEEE 802.1A IEEE 802.2到IEEE 802.11
>作用：主要定义物理设备标准，传输比特流，这一层数据叫比特
>2. 数据链路层：FDDI Ethernet Arpanet, PND, SLIP, PPP
>作用：定义了如何让数据格式化输出，以及如何让控制对物理介质的访问。这一层通常还提供错误检测和纠正，以确保数据的可靠传输
>3. 网络层：IP ICMP ARP【物理地址和IP地址的转换，地址解析协议】 RARP AKP UUCP
>作用：在位于不同地理位置的网络中的两个主机系统之间提供链接和路径选择。
>4. 传输层：TCP UDP
>作用：定义了一些传输数据的协议和端口号，把这一层数据叫段
>5. 会话层：SMTP DNS
>作用：通过运输层（端口号：传输端口和接收端口）建立数据传输的通路。主要在系统之间发起会话或者接受会话请求
>6. 表示层：Telnet, Riogin, SNMP, Gopher
>作用：可确保一个系统的应用层所发送的消息可以被另一个系统的应用层读取。
>7. 应用层：HTTP, TFTP, FTP,NFS, WAIS, SMTP
>作用：最靠近用户的OSI层，这一层为用户的应用程序提供网络服务
#### 2. TCP/IP四层
>1. 链路层：设备驱动程序和接口卡
>作用：包括操作系统中的设备驱动程序和计算机中对应的网络接口卡
>2. 网络层： IP ICMP IGMP
>作用：处理分组在网络中的活动，比如分组的选路
>3. 运输层：TCP / IP
>作用：主要为两台主机上的应用提供端到端的通信
>4. 应用层：Telnet/ FTP e-mail
>作用：负责处理特定的应用程序细节
#### 3. TCP和UCP的区别，什么场景使用
>答：主要区别是TCP是可靠传输的，UDP是不可靠传输的。所以发送消息之类的场景，因为要确保用户的消息不丢失，需要用TCP，如果是视频聊天或者直播，可以用UDP，即使几个画面丢失了也影响不大。HTTP. SSL FTP SMTP POP3. IMAP用的是TCP， DNS用的是UDP
#### 4. 什么是窗口滑动协议，什么是快速重传，什么是拥塞避免，什么是慢启动？
>答：滑动窗口协议的基本原理是在任意时刻，发送方都维持了一个连续的允许发送的帧的序号，称为发送窗口；同时，接收方也维持了一个连续的允许接收的帧的序号，称为接收窗口。发送窗口和接收窗口的序号的上下界不一定要一样，甚至大小也可以不同。不同的滑动窗口协议窗口大小一般不同。发送方窗口内的序列号代表了那些已经被发送，但是还没有被确认的帧，或者是可以被发送的帧。
>快速重传算法：如果收到一个out-of-order的报文段时，TCP需要立刻产生一个ACK，这个ACK不应该被延时，目的在于让对方知道收到一个失序的报文，并告诉对方自己希望收到的报文seq，我们不知道这个重复的ACK的原因，因为还是会等待少量的重复ACK到来，如果连续收到3个或3个以上的dup ACK,就判断这个报文被丢失了，于是就需要重传丢失的数据段，这个地方不用等待定时器溢出
>拥塞避免：是指通过监视网络资源的使用情况，在拥塞发生或有加剧趋势时主动丢弃报文，通过调整网络的流量来解除网络加载的一种流量控制机制（尾部丢失，基于丢弃参数随机丢弃报文）
>慢启动：主机开始发送数据报时，如果立即将大量的数据注入网络中，可能会出现网络的拥塞。慢启动算法就是在主机刚开始发送数据报的时候先探测一下网络情况，如果网络状态良好，发送发每次发送一次文段都能正确的接受确认报文段。那么就从小到大的增加拥塞窗口的大小，即增加发送窗口的大小
#### 5. TCP连接需要几次握手几次分手
>答：三次握手，四次分手
>第一次握手：客户端尝试连接服务器，向服务器发送syn包，客户端进入SYN_SEND状态等待服务器确认
>第二次握手：服务器接收客户端syn包并确认，同时向客户端发送一个syn + ack包，此时服务器进入SYN_RECV状态
>第三次握手：客户端收到服务器的SYN+ACK包，向服务器发送确认包ack，发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手
#### 6. 当输入域名访问一个网站的时候，背后的过程是什么
>答：第一步：域名解析，（域名缓存的地方，浏览器缓存，系统缓存，路由器缓存，以上本地没有缓存的话，需要DNS缓存，如果缓存没有，就递归搜索，从顶级域名服务器到要查的域名服务器）
>第二步：三次握手
#### 7. 什么是https协议？https协议用到了哪种密钥？
>答：https是在http上面套了一层ssl，用来实现安全连接，用到的秘钥有对称密钥和非对称密钥。过程基本是有数字证书，然后把对称密钥作为消息内容，通过非对称密钥来进行传输。直通双方的通信就通过对称密钥来进行解密。
#### 8. FTP是啥，两种传递方式？
>答：FTP是文件传输协议，比HTTP复杂的多，因为要用到两个TCP连接，一个是命令链路，用来在FTP客户端与服务器之间传递命令；另一个是数据链路，用来上传或下载数据
>主动连接方式（PORT）：客户端向服务器的FTP端口发送连接请求，服务器接收连接，建立一条命令链路。当需要传输数据时，客户端在命令链用PORT命令通知服务器来连接其开的端口，于是服务器从20端口向客户端那个端口发送连接请求，建立一条数据链路来传送数据
>被动连接方式（PASV）：和主动一样，还是建立一条命令链路，当需要传送数据时，服务器随机打开一个端口(1023-65535)，在命令链上用PASV命令通知客户端来连接这个端口，于是客户端向服务器的端口发送连接请求，建立一条数据链路来传送数据
#### 8. 什么是socket？
>答：socket是对TCP/IP协议的封装，使得程序员更方便地使用TCP/IP协议栈。socket本身并不是协议，它是应用层与TCP/IP协议族通信的中间软件抽象层，是一组调用接口（TCP/IP网络的API函数）
#### 9. 什么是守护进程？
>答：守护进程是在后台的一种特殊进程。它独立于控制终端并且周期性地执行某种任务或等待处理某些发生的事件。它不需要用户输入就够运行而且提供某种服务，不是对整个系统就是对某个用户程序提供服务。
#### 10. 多进程之间的通行方式？
>答：本地：内存映射，共享内存，匿名管道，剪切板
>跨服务器：命名管道，邮件槽，socket
>内存映射：允许任何多个进程间通信，每一个使用该机制的进程通过把一个共享的文件映射到自己的进程地址空间来实现它
>共享内存：使多个进程可以访问同一块内存空间，结合信号量进行进程间同步及互斥
>匿名管道：父子进程之间进行通信
>剪切板：Clipboard,一个进程写到剪切板，另一个洞剪切版读
>命名管道：匿名管道的基础上海允许无亲缘关系进行通信，命名管道在文件系统中有对应的文件名，通过命令mkfifo创建
>邮件槽：关键函数CreateMailSlot()，使用时将消息长度限制在424字节以下
>socket:一般的通信机制，可在不同机器间通信
#### 11. IO模型-IO多路复用机制？
>答：（1）. IO模型一共有四种，同步阻塞IO，同步不阻塞IO，异步阻塞IO，异步不阻塞IO。IO多路复用属于异步阻塞IO模型，在服务器高性能IO构建中常常用到
>同步阻塞：用户->read请求，内核等待数据到达后再返回
>同步不阻塞：用户->read请求，立即返回，用户线程轮询，直到内核等待数据到达完成后read完成
>（2）. IO多路复用（异步阻塞IO）：先开个监视socket，然后发送select命令，内核等到数据到达返回socket可读，然后用户发送read请求，然后和同步阻塞一样，进行数据拷贝
>IO多路复用介绍：
>1） IO多路复用技术通过把多个I/O的阻塞复用到一个select poll或epoll的阻塞上，从而使得系统在单线程的情况下可以同时处理多个客户端请求。
>2）应用场景：服务器同时处理多个处于监听状态或者多个连接状态的套接字
> 服务器需要同时处理多种网络协议的套接字
> 优点：系统开销小，不需要创建新的额外进程或线程
> （3）.epoll改进
> 1）支持一个进程打开的文件句柄个数不受限制（select受位域大小影响，最长1024）
> 2） I/O效率不会随着FD数目的增加而线性下降
> 3） epoll的API更简单 
